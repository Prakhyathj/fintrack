<html lang="en"><head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - FinTrack</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/3.9.1/chart.min.js"></script>
    <style>
        /* Root Variables */
        :root {
            --primary-gradient: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            --glass-bg: linear-gradient(145deg, rgba(255, 255, 255, 0.2), rgba(255, 255, 255, 0.1));
            --glass-bg-light: linear-gradient(145deg, rgba(255, 255, 255, 0.25), rgba(255, 255, 255, 0.15));
            --glass-border: rgba(255, 255, 255, 0.2);
            --glass-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);
            --glass-shadow-hover: 0 20px 60px 0 rgba(31, 38, 135, 0.5);
            --transition-smooth: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            --transition-fast: all 0.2s ease-out;
            --success-glow: rgba(40, 167, 69, 0.4);
            --danger-glow: rgba(244, 67, 54, 0.25);
            --info-glow: rgba(0, 123, 255, 0.25);
        }

        /* General Styling */
        * {
            box-sizing: border-box;
        }

        body {
            font-family: 'Poppins', sans-serif;
            font-weight: 400;
            color: white;
        }

        .dashboard-body {
            background: var(--primary-gradient);
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }

        .dashboard-body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-image:
                radial-gradient(circle at 20% 80%, rgba(255, 255, 255, 0.1) 0%, transparent 50%),
                radial-gradient(circle at 80% 20%, rgba(255, 255, 255, 0.08) 0%, transparent 50%),
                radial-gradient(circle at 40% 40%, rgba(255, 255, 255, 0.06) 0%, transparent 50%),
                radial-gradient(circle at 60% 70%, rgba(255, 255, 255, 0.04) 0%, transparent 50%);
            animation: floatingParticles 20s infinite linear;
            z-index: -1;
        }

        /* Layout */
        .dashboard-container {
            display: flex;
            min-height: 100vh;
            padding-top: 76px;
        }

        .main-content {
            margin-left: 280px;
            padding: 30px;
            width: calc(100% - 280px);
            min-height: calc(100vh - 76px);
            animation: slideInUp 0.8s ease-out;
            transform: translateZ(0);
            backface-visibility: hidden;
            perspective: 1000px;
        }

        .content-section {
            display: none;
            animation: fadeInScale 0.5s cubic-bezier(0.25, 0.46, 0.45, 0.94);
        }

        .content-section.active {
            display: block;
        }
        
        /* Headers & Typography */
        h1, h2, h3, h4, h5, h6 {
            font-family: 'Poppins', sans-serif;
            font-weight: 700;
        }
        
        .section-header {
            margin-bottom: 24px;
        }

        .section-header h2 {
            background: linear-gradient(135deg, #fff 0%, rgba(255, 255, 255, 0.8) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 800;
            margin-bottom: 8px;
            font-size: 2rem;
            text-shadow: 0 3px 6px rgba(0, 0, 0, 0.1);
            animation: slideInLeft 0.6s ease-out;
        }

        .section-header p {
            color: rgba(255, 255, 255, 0.8);
            margin: 0;
            font-size: 1rem;
            font-weight: 400;
            animation: slideInLeft 0.8s ease-out;
        }
        
        /* Navbar */
        .navbar {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border-bottom: 1px solid var(--glass-border);
            box-shadow: var(--glass-shadow);
            transition: var(--transition-smooth);
        }

        .navbar-brand {
            display: flex;
            align-items: center;
            font-size: 1.5rem;
            font-weight: 700;
            color: white !important;
        }

        .dashboard-logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }

        .dashboard-logo-icon {
            width: 36px;
            height: 36px;
            background: linear-gradient(45deg, #fff, #a7e1f1);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
            position: relative;
            overflow: hidden;
        }

        .dashboard-logo-icon::before {
            content: '\f53a'; /* Font Awesome dollar sign icon */
            font-family: 'Font Awesome 6 Free';
            font-weight: 900;
            color: #667eea;
            font-size: 1.4rem;
            position: relative;
            z-index: 1;
        }

        /* Sidebar */
        .sidebar {
            width: 280px;
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border-right: 1px solid var(--glass-border);
            border-radius: 0 20px 20px 0;
            padding: 20px 0;
            position: fixed;
            height: calc(100vh - 76px);
            overflow-y: auto;
            box-shadow: var(--glass-shadow);
            transition: var(--transition-smooth);
            z-index: 1000;
            will-change: transform;
        }

        .sidebar::-webkit-scrollbar { width: 6px; }
        .sidebar::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 3px; }
        .sidebar::-webkit-scrollbar-thumb { background: linear-gradient(135deg, rgba(255, 255, 255, 0.3), rgba(255, 255, 255, 0.2)); border-radius: 3px; transition: var(--transition-fast); }
        .sidebar::-webkit-scrollbar-thumb:hover { background: linear-gradient(135deg, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.3)); }

        .sidebar-menu {
            padding: 0 16px;
        }
        .menu-item {
            display: flex;
            align-items: center;
            padding: 14px 20px;
            margin: 8px 0;
            border-radius: 16px;
            color: rgba(255, 255, 255, 0.8);
            text-decoration: none;
            transition: var(--transition-smooth);
            font-weight: 500;
            font-size: 1rem;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
            border: 1px solid transparent;
            will-change: transform;
        }
        .menu-item:hover {
            color: white;
            background: rgba(255, 255, 255, 0.15);
            transform: translateX(6px) scale(1.01);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.1);
        }
        .menu-item.active {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.3), rgba(40, 167, 69, 0.2));
            color: white;
            box-shadow: 0 4px 15px rgba(40, 167, 69, 0.3);
            transform: translateX(5px);
        }
        .menu-item i {
            margin-right: 12px;
            width: 20px;
            text-align: center;
        }
        
        /* Glassmorphism Cards */
        .summary-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            transition: var(--transition-smooth);
            height: 100%;
            position: relative;
            overflow: hidden;
            animation: slideInUp 0.6s ease-out;
            will-change: transform;
        }

        .summary-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            border-radius: 20px 20px 0 0;
            transition: var(--transition-smooth);
        }

        .summary-card.income::before { background: linear-gradient(90deg, #28a745, #20c997); }
        .summary-card.expense::before { background: linear-gradient(90deg, #dc3545, #c82333); }
        .summary-card.savings::before { background: linear-gradient(90deg, #007bff, #0056b3); }
        .summary-card.investment::before { background: linear-gradient(90deg, #fd7e14, #e55a4e); }

        .summary-card:hover {
            transform: translateY(-6px) scale(1.01);
            box-shadow: var(--glass-shadow-hover);
        }

        .summary-card:hover::before { height: 4px; }

        .card-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }
        
        .card-header i {
            margin-right: 10px;
            font-size: 1.1rem;
            padding: 10px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.15);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
            transition: var(--transition-smooth);
        }
        
        .summary-card.income .card-header i { background: rgba(40, 167, 69, 0.2); color: #28a745; }
        .summary-card.expense .card-header i { background: rgba(220, 53, 69, 0.2); color: #dc3545; }
        .summary-card.savings::before { background: linear-gradient(90deg, #667eea, #764ba2); }
        .summary-card.savings .card-header i { background: rgba(102, 126, 234, 0.2); color: #667eea; }
        .summary-card.investment::before { background: linear-gradient(90deg, #fd7e14, #e55a4e); }
        .summary-card.investment .card-header i { background: rgba(253, 126, 20, 0.2); color: #fd7e14; }


        .card-value {
            font-size: 2.2rem;
            font-weight: 700;
            background: linear-gradient(135deg, #fff 0%, rgba(255, 255, 255, 0.8) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 12px;
            line-height: 1;
            animation: countUp 0.8s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .card-change {
            font-size: 0.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 6px;
            padding: 8px 12px;
            border-radius: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.15);
            transition: var(--transition-smooth);
        }

        .card-change.positive { background: rgba(40, 167, 69, 0.15); color: #4caf50; border-color: rgba(76, 175, 80, 0.2); }
        .card-change.negative { background: rgba(244, 67, 54, 0.15); color: #f44336; border-color: rgba(244, 67, 54, 0.2); }
        .card-change.neutral { background: rgba(255, 255, 255, 0.1); color: rgba(255, 255, 255, 0.8); border-color: rgba(255, 255, 255, 0.15); }
        .card-change i { font-size: 0.7rem; }
        .card-change.positive i { color: #0a6038; }
        .card-change.negative i { color: #f44336; }
        .card-change.neutral i { color: rgba(255, 255, 255, 0.6); }

        .quick-actions, .bank-accounts-section, .data-controls {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            margin-bottom: 24px;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            animation: slideInUp 0.7s ease-out;
            will-change: transform;
        }
        
        /* Recent Transactions (Card-based layout) */
        .recent-transactions-section {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            margin-bottom: 24px;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            animation: slideInUp 0.7s ease-out;
            will-change: transform;
        }

        .recent-transactions-section h4, .transactions-section h4, .bank-accounts-section h4, .data-controls h5, .quick-actions h4 {
            background: linear-gradient(135deg, #fff 0%, rgba(255, 255, 255, 0.8) 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            font-weight: 700;
            margin-bottom: 16px;
            font-size: 1.2rem;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .action-buttons {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(180px, 1fr));
            gap: 16px;
        }

        .action-buttons .btn {
            border-radius: 16px;
            padding: 12px 16px;
            font-weight: 600;
            font-size: 1rem;
            transition: var(--transition-smooth);
            border: none;
            box-shadow: 0 4px 15px rgba(30, 58, 138, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            position: relative;
            overflow: hidden;
            backdrop-filter: blur(10px);
        }

        .action-buttons .btn:hover {
            transform: translateY(-4px) scale(1.03);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
        .btn-view-all {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 16px;
            padding: 12px 16px;
            font-weight: 600;
            font-size: 1rem;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
        }
        .btn-view-all:hover {
            background: rgba(255, 255, 255, 0.2);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(0, 0, 0, 0.15);
        }


        .recent-transactions-list .transaction-item,
        .transaction-list .transaction-item {
            display: flex;
            align-items: center;
            padding: 15px;
            border-radius: 12px;
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(5px);
            margin-bottom: 12px;
            transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
            border: 1px solid rgba(255, 255, 255, 0.1);
            will-change: transform;
        }

        .recent-transactions-list .transaction-item:hover,
        .transaction-list .transaction-item:hover {
            transform: translateX(5px);
            background: rgba(255, 255, 255, 0.18);
            border-color: rgba(255, 255, 255, 0.3);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.15);
        }

        .transaction-icon {
            width: 40px;
            height: 40px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            color: white;
            font-size: 1.1rem;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            animation: subtlePulse 4s infinite;
        }

        .transaction-icon.income { background: linear-gradient(135deg, #4CAF50, #45a049); }
        .transaction-icon.expense { background: linear-gradient(135deg, #f44336, #d32f2f); }

        .transaction-details {
            flex: 1;
        }

        .transaction-title {
            font-weight: 600;
            color: white;
            margin-bottom: 4px;
            font-size: 1rem;
        }

        .transaction-date {
            font-size: 0.85rem;
            color: rgba(255, 255, 255, 0.7);
            font-weight: 400;
        }

        .transaction-amount {
            font-size: 1.1rem;
            font-weight: 700;
            text-align: right;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }

        .transaction-amount.income { color: #4CAF50; }
        .transaction-amount.expense { color: #f44336; }

        .transaction-actions {
            margin-left: 15px;
            display: flex;
            gap: 8px;
            align-items: center;
        }
        
        .btn-sm-glass {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: white;
            border-radius: 10px;
            padding: 6px 10px;
            font-size: 0.8rem;
            transition: var(--transition-smooth);
            backdrop-filter: blur(10px);
        }

        .btn-sm-glass:hover {
            background: var(--glass-bg-light);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-1px) scale(1.05);
        }

        .bank-accounts-section {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 24px;
            box-shadow: var(--glass-shadow);
            margin-bottom: 24px;
            transition: var(--transition-smooth);
        }
        
        .account-card {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 20px;
            padding: 20px;
            transition: var(--transition-smooth);
            position: relative;
            overflow: hidden;
            box-shadow: var(--glass-shadow);
        }
        
        .account-card:hover {
            transform: translateY(-6px) scale(1.01);
            box-shadow: var(--glass-shadow-hover);
        }

        .account-header {
            display: flex;
            align-items: center;
            margin-bottom: 16px;
        }

        .bank-logo {
            width: 45px;
            height: 45px;
            border-radius: 14px;
            background: linear-gradient(135deg, #4facfe 0%, #00f2fe 100%);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 16px;
            box-shadow: 0 6px 20px rgba(79, 172, 254, 0.3);
            transition: var(--transition-smooth);
        }

        .bank-name { font-weight: 600; color: white; margin-bottom: 2px; font-size: 1rem; }
        .account-number { font-size: 0.85rem; color: rgba(255, 255, 255, 0.7); font-weight: 400; }
        .account-type {
            font-size: 0.75rem;
            color: white;
            background: linear-gradient(135deg, #28a745, #20c997);
            padding: 5px 10px;
            border-radius: 12px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.5px;
            box-shadow: 0 3px 10px var(--success-glow);
            transition: var(--transition-smooth);
        }

        .account-balance {
            font-size: 2rem;
            font-weight: 800;
            background: linear-gradient(135deg, #4CAF50, #45a049);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
            margin-bottom: 10px;
            text-shadow: 0 1px 2px rgba(0, 0, 0, 0.1);
        }
        
        .form-control, .form-select {
            background: rgba(255, 255, 255, 0.15);
            border: 2px solid rgba(255, 255, 255, 0.2);
            color: white;
            border-radius: 12px;
            padding: 12px 16px;
            font-size: 1rem;
            font-weight: 400;
            transition: var(--transition-fast);
        }

        .form-control:focus, .form-select:focus {
            background: rgba(255, 255, 255, 0.2);
            border-color: rgba(255, 255, 255, 0.4);
            box-shadow: 0 0 0 0.25rem rgba(255, 255, 255, 0.15);
        }
        
        .form-control::placeholder { color: rgba(255, 255, 255, 0.6); }

        .form-label {
            color: rgba(255, 255, 255, 0.9);
            font-weight: 600;
            margin-bottom: 8px;
            font-size: 0.9rem;
        }

        .btn-glass {
            background: var(--glass-bg);
            border: 1px solid var(--glass-border);
            color: white;
            border-radius: 12px;
            padding: 10px 20px;
            transition: var(--transition-smooth);
            font-weight: 500;
            backdrop-filter: blur(15px);
        }
        .btn-glass:hover {
            background: var(--glass-bg-light);
            border-color: rgba(255, 255, 255, 0.3);
            transform: translateY(-2px);
        }
        .btn-success-glass {
            background: linear-gradient(135deg, #28a745, #20c997);
            border: none;
            color: white;
            font-weight: 600;
            border-radius: 12px;
            padding: 12px 24px;
            box-shadow: 0 6px 20px var(--success-glow);
            transition: var(--transition-smooth);
        }

        .alert {
            background: var(--glass-bg);
            backdrop-filter: blur(25px);
            border: 1px solid var(--glass-border);
            border-radius: 16px;
            padding: 16px 20px;
            box-shadow: var(--glass-shadow);
            color: rgba(255, 255, 255, 0.9);
            font-weight: 500;
            animation: slideInUp 0.5s ease-out;
        }

        .alert-success {
            background: linear-gradient(135deg, rgba(40, 167, 69, 0.3), rgba(40, 167, 69, 0.2));
            border-color: rgba(40, 167, 69, 0.3);
            box-shadow: 0 6px 20px var(--success-glow);
        }
        
        .alert strong, .alert i {
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.2);
        }

        .modal-content {
            background: var(--glass-bg-light);
            border-radius: 20px;
            border: 1px solid var(--glass-border);
            backdrop-filter: blur(20px);
            box-shadow: var(--glass-shadow-hover);
            color: white;
        }
        .modal-header { border-bottom: 1px solid rgba(255,255,255,0.2); }
        .modal-footer { border-top: 1px solid rgba(255,255,255,0.2); }
        .modal-title { color: white; font-weight: 600; }
        .btn-close { filter: invert(1); }
        
        .form-check-label { color: rgba(255,255,255,0.8); }

        /* All Transactions Table */
        .transactions-section .table-container {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 16px;
            padding: 20px;
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.2);
        }
        .transactions-section table {
            --bs-table-bg: transparent;
            color: white;
            border-collapse: separate;
            border-spacing: 0 8px;
        }
        .transactions-section th {
            border-bottom: 2px solid rgba(255, 255, 255, 0.3);
            padding: 12px 0;
            color: white;
        }
        .transactions-section td {
            background: rgba(255, 255, 255, 0.05);
            border: none;
            padding: 12px;
            vertical-align: middle;
            color: white;
        }
        .transactions-section tr:hover td {
            background: rgba(255, 255, 255, 0.1);
        }
        .transactions-section td:first-child { border-top-left-radius: 8px; border-bottom-left-radius: 8px; }
        .transactions-section td:last-child { border-top-right-radius: 8px; border-bottom-right-radius: 8px; }

        .transactions-section .table-responsive {
            max-height: 60vh;
            overflow-y: auto;
        }
        .transactions-section .table-responsive::-webkit-scrollbar { width: 6px; }
        .transactions-section .table-responsive::-webkit-scrollbar-track { background: rgba(255, 255, 255, 0.1); border-radius: 3px; }
        .transactions-section .table-responsive::-webkit-scrollbar-thumb { background: rgba(255, 255, 255, 0.3); border-radius: 3px; }

        /* Animations */
        @keyframes floatingParticles {
            0% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(180deg); }
            100% { transform: translateY(0px) rotate(360deg); }
        }

        @keyframes slideInUp {
            from { opacity: 0; transform: translateY(30px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }
        
        @keyframes fadeInScale {
            from { opacity: 0; transform: translateY(20px) scale(0.98); }
            to { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes countUp {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }

        @keyframes subtlePulse {
            0%, 100% { transform: scale(1); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
            50% { transform: scale(1.03); box-shadow: 0 6px 20px rgba(0, 0, 0, 0.2); }
            100% { transform: scale(1); box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1); }
        }

        @keyframes slideInRight {
            from { transform: translateX(100%); opacity: 0; }
            to { transform: translateX(0); opacity: 1; }
        }
        @keyframes slideOutRight {
            from { transform: translateX(0); opacity: 1; }
            to { transform: translateX(100%); opacity: 0; }
        }

        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }

        @media (max-width: 768px) {
            .dashboard-container { flex-direction: column; padding-top: 76px; }
            .sidebar { width: 100%; height: auto; position: relative; border-radius: 0; border-right: none; border-bottom: 1px solid var(--glass-border); padding: 16px 0; }
            .sidebar-menu { display: flex; overflow-x: auto; gap: 8px; padding: 0 16px; }
            .menu-item { white-space: nowrap; min-width: 120px; justify-content: center; margin: 0; padding: 12px 16px; border-radius: 12px; }
            .main-content { margin-left: 0; width: 100%; padding: 16px; }
            .action-buttons { grid-template-columns: 1fr; gap: 12px; }
            .recent-transactions-list .transaction-item,
            .transaction-list .transaction-item { flex-wrap: wrap; gap: 10px; padding: 12px; }
            .transaction-actions { margin-left: 0; width: 100%; justify-content: center; gap: 8px; }
            .modal-body, .modal-header, .modal-footer { padding: 16px; }
            .navbar-brand { font-size: 1.1rem; }
            .dashboard-logo-icon { width: 30px; height: 30px; }
            .card-value { font-size: 1.8rem; }
            .section-header h2 { font-size: 1.8rem; }
        }
    </style>
</head>

<body class="dashboard-body">
    <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <div class="container-fluid">
            <a class="navbar-brand" href="dashboard.html">
                <div class="dashboard-logo">
                    FinTrack
                </div>
            </a>
            <div class="navbar-nav ms-auto">
                <span class="navbar-text me-3 text-light">
                    <i class="fas fa-user-circle"></i> Welcome, <span id="userName">prakhyath</span>
                </span>
                <a class="nav-link text-light" href="#" id="logoutBtn">
                    <i class="fas fa-sign-out-alt"></i> Logout
                </a>
            </div>
        </div>
    </nav>

    <div class="dashboard-container">
        <div class="sidebar">
            <div class="sidebar-menu">
                <a href="dashboard.html" class="menu-item active" data-section="overview">
                    <i class="fas fa-tachometer-alt"></i> Overview
                </a>
                <a href="analytics.html" class="menu-item" data-section="analytics">
                    <i class="fas fa-chart-bar"></i> Analytics
                </a>
                <a href="investments.html" class="menu-item" data-section="investments">
                    <i class="fas fa-chart-line"></i> Investments
                </a>
                <a href="other-features.html" class="menu-item" data-section="other-features">
                    <i class="fas fa-tools"></i> Other Features
                </a>
            </div>
        </div>

        <div class="main-content">
            <!-- Overview Section -->
            <div id="overview" class="content-section active">
                <div class="section-header">
                    <h2> Financial Overview</h2>
                    <p>Your financial health at a glance</p>
                </div>

                <div class="data-controls glass-card" style="padding: 20px;">
                    <h5><i class="fas fa-database"></i> Data Management</h5>
                    <div class="mt-3">
                        <button class="btn btn-sm btn-glass me-2" onclick="exportData()">
                            <i class="fas fa-download"></i> Export Data
                        </button>
                        <button class="btn btn-sm btn-glass me-2" onclick="importData()">
                            <i class="fas fa-upload"></i> Import Data
                        </button>
                        <button class="btn btn-sm btn-glass" onclick="showResetModal()">
                            <i class="fas fa-trash"></i> Reset All Data
                        </button>
                        <input type="file" id="importFileInput" accept=".json" style="display: none;" onchange="handleFileImport(event)">
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-12">
                        <div class="alert alert-success d-flex align-items-center justify-content-center" role="alert">
                            <i class="fas fa-university me-2"></i>
                            <div>
                                <strong>Primary Bank Account:</strong> All transactions are processed through <strong>HDFC Bank - Main Account</strong>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="row mb-4">
                    <div class="col-md-3 mb-3">
                        <div class="summary-card income">
                            <div class="card-header">
                                <i class="fas fa-arrow-up"></i>
                                <span>Total Income</span>
                            </div>
                            <div class="card-value" id="totalIncome" style="">₹4,22,047</div>
                            <div class="card-change negative" id="incomeChange"><i class="fas fa-arrow-down"></i><span>-59% vs last month</span></div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="summary-card expense">
                            <div class="card-header">
                                <i class="fas fa-arrow-down"></i>
                                <span>Total Expenses</span>
                            </div>
                            <div class="card-value" id="totalExpenses" style="">₹4,86,645</div>
                            <div class="card-change positive" id="expenseChange"><i class="fas fa-arrow-down"></i><span>-42% vs last month</span></div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="summary-card savings">
                            <div class="card-header">
                                <i class="fas fa-piggy-bank"></i>
                                <span>Net Savings</span>
                            </div>
                            <div class="card-value" id="savings" style="">₹-64,598</div>
                            <div class="card-change negative" id="savingsChange"><i class="fas fa-arrow-down"></i><span>-4080% vs last month</span></div>
                        </div>
                    </div>
                    <div class="col-md-3 mb-3">
                        <div class="summary-card investment">
                            <div class="card-header">
                                <i class="fas fa-exchange-alt"></i>
                                <span>Transactions</span>
                            </div>
                            <div class="card-value" id="totalTransactionsCount" style="">65</div>
                            <div class="card-change neutral" id="transactionsChange">
                                <i class="fas fa-calendar-alt"></i>
                                <span>This month: <span id="monthlyTransactionsCount">5</span></span>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="quick-actions glass-card">
                    <h4><i class="fas fa-bolt"></i> Quick Actions</h4>
                    <div class="action-buttons">
                        <button class="btn btn-success" onclick="showAddTransactionModal()">
                            <i class="fas fa-plus"></i> Add New Transaction
                        </button>
                        <button class="btn btn-primary" onclick="showQuickIncomeModal()">
                            <i class="fas fa-arrow-up"></i> Quick Income
                        </button>
                        <button class="btn btn-danger" onclick="showQuickExpenseModal()">
                            <i class="fas fa-arrow-down"></i> Quick Expense
                        </button>
                        <button class="btn btn-info btn-view-all" onclick="showAllTransactionsModal()">
                             <i class="fas fa-list-alt"></i> All Transactions
                        </button>
                    </div>
                </div>

                <div class="bank-accounts-section glass-card">
                    <h4><i class="fas fa-university"></i> Primary Bank Account</h4>
                    <div class="account-card hdfc">
                        <div class="account-header">
                            <div class="bank-logo">
                                <i class="fas fa-university"></i>
                            </div>
                            <div class="account-info">
                                <div class="bank-name">HDFC Bank</div>
                                <div class="account-number">Main Account</div>
                            </div>
                            <div class="account-type">Primary</div>
                        </div>
                        <div class="account-balance" id="hdfcBalance" style="">₹-64,598</div>
                        <div class="account-status active">
                            <i class="fas fa-circle"></i> Active • All Transactions
                        </div>
                    </div>
                </div>

                <div class="recent-transactions-section glass-card">
                    <div class="d-flex justify-content-between align-items-center mb-3">
                        <h4><i class="fas fa-clock"></i> Recent Transactions</h4>
                        <span class="badge bg-secondary">
                            Last 5 transactions
                        </span>
                    </div>
                    <div class="recent-transactions-list" id="recentTransactionsList"><div class="transaction-item"><div class="transaction-icon income"><i class="fas fa-briefcase"></i></div><div class="transaction-details"><div class="transaction-title">Generated Salary Transaction</div><div class="transaction-date">3/9/2025 • Salary</div></div><div class="transaction-amount income">+₹26,010</div></div><div class="transaction-item"><div class="transaction-icon expense"><i class="fas fa-home"></i></div><div class="transaction-details"><div class="transaction-title">Generated Rent Transaction</div><div class="transaction-date">3/9/2025 • Rent</div></div><div class="transaction-amount expense">-₹10,158</div></div><div class="transaction-item"><div class="transaction-icon expense"><i class="fas fa-shopping-cart"></i></div><div class="transaction-details"><div class="transaction-title">Generated Groceries Transaction</div><div class="transaction-date">2/9/2025 • Groceries</div></div><div class="transaction-amount expense">-₹29,640</div></div><div class="transaction-item"><div class="transaction-icon expense"><i class="fas fa-car"></i></div><div class="transaction-details"><div class="transaction-title">Generated Transportation Transaction</div><div class="transaction-date">2/9/2025 • Transportation</div></div><div class="transaction-amount expense">-₹12,505</div></div><div class="transaction-item"><div class="transaction-icon income"><i class="fas fa-chart-line"></i></div><div class="transaction-details"><div class="transaction-title">Generated Investment Transaction</div><div class="transaction-date">1/9/2025 • Investment</div></div><div class="transaction-amount income">+₹10,733</div></div></div>
                </div>

            </div>

            <!-- All Transactions Modal -->
            <div class="modal fade" id="allTransactionsModal" tabindex="-1" aria-labelledby="allTransactionsModalLabel" aria-hidden="true">
                <div class="modal-dialog modal-xl modal-dialog-centered">
                    <div class="modal-content">
                        <div class="modal-header">
                            <h5 class="modal-title" id="allTransactionsModalLabel">All Transactions</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                             <div class="transactions-section glass-card">
                                <div class="d-flex justify-content-between align-items-center mb-3">
                                    <h4 class="mb-0">Transaction History</h4>
                                    <button class="btn btn-success" onclick="showAddTransactionModal()">
                                        <i class="fas fa-plus"></i> Add New
                                    </button>
                                </div>
                                <div class="table-responsive">
                                    <table class="table align-middle">
                                        <thead>
                                            <tr>
                                                <th>Date</th>
                                                <th>Description</th>
                                                <th>Category</th>
                                                <th>Type</th>
                                                <th class="text-end">Amount</th>
                                                <th class="text-center">Actions</th>
                                            </tr>
                                        </thead>
                                        <tbody id="allTransactionsList">
                        <tr>
                            <td>2025-09-03</td>
                            <td>Generated Salary Transaction</td>
                            <td>Salary</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹26,010</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(41)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(41)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-09-03</td>
                            <td>Generated Rent Transaction</td>
                            <td>Rent</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹10,158</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(59)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(59)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-09-02</td>
                            <td>Generated Groceries Transaction</td>
                            <td>Groceries</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹29,640</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(50)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(50)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-09-02</td>
                            <td>Generated Transportation Transaction</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹12,505</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(71)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(71)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-09-01</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹10,733</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(64)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(64)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-27</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹4,990</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(36)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(36)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-26</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹10,580</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(30)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(30)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-24</td>
                            <td>Yearly Bonus</td>
                            <td>Bonus</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹10,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(25)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(25)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-23</td>
                            <td>Generated Bonus Transaction</td>
                            <td>Bonus</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹11,981</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(37)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(37)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-22</td>
                            <td>Gift from Relative</td>
                            <td>Gift</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹5,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(17)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(17)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-20</td>
                            <td>Restaurant &amp; Food</td>
                            <td>Food</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹12,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(11)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(11)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-18</td>
                            <td>Bus/Taxi Travel</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹3,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(15)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(15)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-18</td>
                            <td>Small Business Sale</td>
                            <td>Business</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹12,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(24)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(24)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-18</td>
                            <td>Generated Transportation Transaction</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹15,381</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(27)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(27)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-16</td>
                            <td>Shopping Mall</td>
                            <td>Shopping</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹6,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(22)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(22)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-15</td>
                            <td>Movie &amp; Outing</td>
                            <td>Entertainment</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹5,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(13)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(13)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-13</td>
                            <td>Generated Rent Transaction</td>
                            <td>Rent</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹29,915</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(52)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(52)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-12</td>
                            <td>Medicine &amp; Clinic Visit</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹2,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(18)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(18)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-10</td>
                            <td>Monthly Groceries</td>
                            <td>Groceries</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹8,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(14)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(14)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-08</td>
                            <td>Stock Market Profit</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹8,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(23)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(23)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-05</td>
                            <td>Part-time Tutoring</td>
                            <td>Freelance</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹20,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(16)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(16)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-05</td>
                            <td>Electricity &amp; Water Bill</td>
                            <td>Utilities</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹4,500</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(19)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(19)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-04</td>
                            <td>Generated Healthcare Transaction</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹6,513</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(66)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(66)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-02</td>
                            <td>Insurance Premium</td>
                            <td>Insurance</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹7,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(21)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(21)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-01</td>
                            <td>House Rent</td>
                            <td>Rent</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹25,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(12)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(12)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-08-01</td>
                            <td>Generated Groceries Transaction</td>
                            <td>Groceries</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹15,832</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(62)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(62)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-28</td>
                            <td>College Fees</td>
                            <td>Education</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹10,000</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(20)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(20)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-28</td>
                            <td>Generated Transportation Transaction</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹29,285</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(75)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(75)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-23</td>
                            <td>Generated Business Transaction</td>
                            <td>Business</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹9,833</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(32)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(32)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-15</td>
                            <td>Generated Groceries Transaction</td>
                            <td>Groceries</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹18,173</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(40)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(40)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-08</td>
                            <td>Generated Business Transaction</td>
                            <td>Business</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹11,290</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(29)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(29)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-08</td>
                            <td>Generated Bonus Transaction</td>
                            <td>Bonus</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹27,287</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(51)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(51)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-07</td>
                            <td>Generated Bonus Transaction</td>
                            <td>Bonus</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹24,968</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(31)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(31)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-07</td>
                            <td>Generated Shopping Transaction</td>
                            <td>Shopping</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹12,485</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(73)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(73)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-05</td>
                            <td>Generated Gift Transaction</td>
                            <td>Gift</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹16,933</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(47)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(47)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-07-02</td>
                            <td>Generated Food Transaction</td>
                            <td>Food</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹19,977</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(46)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(46)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-30</td>
                            <td>Generated Insurance Transaction</td>
                            <td>Insurance</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹3,071</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(48)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(48)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-16</td>
                            <td>Generated Utilities Transaction</td>
                            <td>Utilities</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹24,595</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(26)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(26)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-14</td>
                            <td>Generated Rent Transaction</td>
                            <td>Rent</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹12,832</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(34)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(34)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-11</td>
                            <td>Generated Healthcare Transaction</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹2,064</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(38)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(38)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-10</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹8,077</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(63)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(63)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-06-08</td>
                            <td>Generated Healthcare Transaction</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹24,636</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(61)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(61)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-05-28</td>
                            <td>Generated Education Transaction</td>
                            <td>Education</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹18,851</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(49)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(49)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-04-15</td>
                            <td>Generated Salary Transaction</td>
                            <td>Salary</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹28,695</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(55)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(55)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-04-12</td>
                            <td>Generated Food Transaction</td>
                            <td>Food</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹8,256</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(35)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(35)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-04-12</td>
                            <td>Generated Insurance Transaction</td>
                            <td>Insurance</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹1,173</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(70)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(70)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-04-07</td>
                            <td>Generated Gift Transaction</td>
                            <td>Gift</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹27,282</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(45)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(45)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-04-04</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹4,940</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(60)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(60)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-27</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹6,068</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(56)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(56)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-27</td>
                            <td>Generated Healthcare Transaction</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹20,086</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(67)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(67)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-21</td>
                            <td>Generated Rent Transaction</td>
                            <td>Rent</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹11,637</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(57)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(57)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-17</td>
                            <td>Generated Bonus Transaction</td>
                            <td>Bonus</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹8,950</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(54)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(54)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-14</td>
                            <td>Generated Freelance Transaction</td>
                            <td>Freelance</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹22,672</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(42)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(42)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-08</td>
                            <td>Generated Healthcare Transaction</td>
                            <td>Healthcare</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹25,925</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(69)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(69)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-03-01</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹2,293</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(53)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(53)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-27</td>
                            <td>Generated Gift Transaction</td>
                            <td>Gift</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹15,055</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(74)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(74)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-25</td>
                            <td>Generated Entertainment Transaction</td>
                            <td>Entertainment</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹8,932</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(44)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(44)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-25</td>
                            <td>Generated Transportation Transaction</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹5,601</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(72)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(72)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-15</td>
                            <td>Generated Salary Transaction</td>
                            <td>Salary</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹8,236</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(33)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(33)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-06</td>
                            <td>Generated Insurance Transaction</td>
                            <td>Insurance</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹8,942</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(58)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(58)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-02-03</td>
                            <td>Generated Freelance Transaction</td>
                            <td>Freelance</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹22,594</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(43)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(43)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-01-11</td>
                            <td>Generated Transportation Transaction</td>
                            <td>Transportation</td>
                            <td><span class="badge bg-secondary">expense</span></td>
                            <td class="text-end text-danger">-₹27,680</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(39)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(39)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-01-11</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹21,607</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(68)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(68)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-01-10</td>
                            <td>Generated Investment Transaction</td>
                            <td>Investment</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹9,106</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(28)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(28)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    
                        <tr>
                            <td>2025-01-10</td>
                            <td>Generated Gift Transaction</td>
                            <td>Gift</td>
                            <td><span class="badge bg-secondary">income</span></td>
                            <td class="text-end text-success">+₹26,867</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(65)"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(65)"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="modal fade" id="confirmModal" tabindex="-1" aria-labelledby="confirmModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="confirmModalLabel">Confirm Action</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="confirmModalBody">
                    Are you sure you want to proceed?
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-glass" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-danger" id="confirmActionButton">Confirm</button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="addTransactionModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="transactionModalTitle">Add New Transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="transactionForm">
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Transaction Type *</label>
                                <select class="form-select" id="transactionType" required="">
                                    <option value="">Select Type</option>
                                    <option value="income">Income</option>
                                    <option value="expense">Expense</option>
                                </select>
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Amount *</label>
                                <input type="number" class="form-control" id="transactionAmount" step="0.01" min="0" required="">
                            </div>
                        </div>
                        <div class="row">
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Date *</label>
                                <input type="date" class="form-control" id="transactionDate" required="">
                            </div>
                            <div class="col-md-6 mb-3">
                                <label class="form-label">Category</label>
                                <select class="form-select" id="transactionCategory">
                                    <option value="">Select Category</option>
                                </select>
                            </div>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description *</label>
                            <textarea class="form-control" id="transactionDescription" rows="3" placeholder="Enter transaction description" required=""></textarea>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" id="isRecurring">
                            <label class="form-check-label" for="isRecurring">
                                Mark as recurring transaction
                            </label>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-glass" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success-glass" onclick="saveTransaction()">
                        <i class="fas fa-save"></i> Save Transaction
                    </button>
                </div>
            </div>
        </div>
    </div>

    <div class="modal fade" id="quickTransactionModal" tabindex="-1">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="quickTransactionModalTitle">Quick Transaction</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <form id="quickTransactionForm">
                        <div class="mb-3">
                            <label class="form-label">Amount *</label>
                            <input type="number" class="form-control" id="quickAmount" step="0.01" min="0" required="">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Description *</label>
                            <input type="text" class="form-control" id="quickDescription" placeholder="Enter transaction description" required="">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">Date</label>
                            <input type="date" class="form-control" id="quickDate" required="">
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-glass" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" class="btn btn-success-glass" onclick="saveQuickTransaction()">
                        <i class="fas fa-save"></i> Save
                    </button>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap/5.3.0/js/bootstrap.bundle.min.js"></script>
    <script>
        // Enhanced Persistent Data Manager
        class PersistentFinanceTracker {
            constructor() {
                this.storageKey = 'fintrack_data_persistent';
                this.data = null; 
                this.filteredTransactions = [];
                this.currentQuickTransactionType = '';
                this.initialize();
            }

            async initialize() {
                const userString = localStorage.getItem('fintrack_user');
                const userData = userString ? JSON.parse(userString) : null;
                
                if (!userData || !userData.hasOnboarded) {
                    window.location.href = 'index.html';
                    return; 
                }

                document.getElementById('userName').textContent = userData.name;
                
                const storedData = localStorage.getItem(this.storageKey);
                if (!storedData) {
                    this.data = this.getDefaultData(userData.startingBalance);
                    this.saveData();
                } else {
                    this.data = this.validateAndUpgradeData(JSON.parse(storedData));
                }

                this.setupEventListeners();
                this.syncAllDisplays();
                this.updateDataStatus('Data loaded successfully');
            }
            
            getDefaultData(startingBalance) {
                return {
                    transactions: [
                        { 
                            id: 1, 
                            type: "income", 
                            amount: parseFloat(startingBalance) || 0, 
                            description: "Initial Balance", 
                            date: new Date().toISOString().split('T')[0], 
                            category: "Initial", 
                            isRecurring: false
                        }
                    ],
                    categories: {
                        income: ['Salary', 'Freelance', 'Business', 'Investment', 'Bonus', 'Gift', 'Other', 'Initial'],
                        expense: ['Food', 'Transportation', 'Shopping', 'Entertainment', 'Utilities', 'Healthcare', 'Education', 'Rent', 'Groceries', 'Insurance', 'Other']
                    },
                    settings: {
                        currency: 'INR',
                        dateFormat: 'DD/MM/YYYY',
                        theme: 'default',
                        startingBalance: parseFloat(startingBalance) || 0
                    },
                    version: '1.0.0'
                };
            }
            
            saveData() {
                try {
                    localStorage.setItem(this.storageKey, JSON.stringify(this.data));
                    this.updateDataStatus('Data saved successfully');
                } catch (error) {
                    console.error('Error saving data:', error);
                    this.showErrorMessage('Failed to save data: ' + error.message);
                }
            }

            validateAndUpgradeData(data) {
                const defaultData = this.getDefaultData(data.settings ? data.settings.startingBalance : 0);
                const validatedData = {
                    transactions: Array.isArray(data.transactions) ? data.transactions : defaultData.transactions,
                    categories: data.categories || defaultData.categories,
                    settings: data.settings || defaultData.settings,
                    version: data.version || '1.0.0'
                };
                validatedData.transactions = validatedData.transactions.map(t => ({
                    id: t.id || Date.now() + Math.random(),
                    type: t.type || 'expense',
                    amount: Number(t.amount) || 0,
                    description: t.description || 'Unknown',
                    date: t.date || new Date().toISOString().split('T')[0],
                    category: t.category || 'Other',
                    isRecurring: Boolean(t.isRecurring)
                }));
                return validatedData;
            }
            
            updateBankBalance() {
                const transactions = this.data.transactions;
                const totalIncome = transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
                const totalExpenses = transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
                const currentBalance = this.data.settings.startingBalance + totalIncome - totalExpenses;
                document.getElementById('hdfcBalance').textContent = `₹${currentBalance.toLocaleString('en-IN')}`;
            }

            setupEventListeners() {
                document.querySelectorAll('.menu-item').forEach(item => {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.switchSection(item.getAttribute('href'));
                    });
                });
                document.getElementById('transactionType').addEventListener('change', () => {
                    this.updateCategoriesForType();
                });
                document.getElementById('addTransactionModal').addEventListener('show.bs.modal', () => {
                    this.resetTransactionForm();
                });
                document.getElementById('quickTransactionModal').addEventListener('show.bs.modal', () => {
                    this.resetQuickForm();
                });
                document.getElementById('logoutBtn').addEventListener('click', (e) => {
                    e.preventDefault();
                    this.showConfirmModal('Are you sure you want to logout? All your local data will be cleared.', () => {
                        localStorage.clear();
                        window.location.href = 'index.html';
                    });
                });
                window.addEventListener('beforeunload', () => {
                    this.saveData();
                });
            }

            showConfirmModal(message, onConfirm) {
                const modal = new bootstrap.Modal(document.getElementById('confirmModal'));
                document.getElementById('confirmModalBody').textContent = message;
                const confirmButton = document.getElementById('confirmActionButton');
                confirmButton.onclick = () => {
                    onConfirm();
                    modal.hide();
                };
                modal.show();
            }

            showAllTransactionsModal() {
                const allTransactionsModal = new bootstrap.Modal(document.getElementById('allTransactionsModal'));
                this.loadAllTransactions();
                allTransactionsModal.show();
            }

            switchSection(href) {
                window.location.href = href;
            }

            updateCategoriesForType() {
                const type = document.getElementById('transactionType').value;
                const categorySelect = document.getElementById('transactionCategory');
                categorySelect.innerHTML = '<option value="">Select Category</option>';
                if (type && this.data.categories[type]) {
                    this.data.categories[type].forEach(category => {
                        const option = document.createElement('option');
                        option.value = category;
                        option.textContent = category;
                        categorySelect.appendChild(option);
                    });
                }
            }

            addTransaction(transactionData) {
                const newId = this.data.transactions.length > 0 ? Math.max(...this.data.transactions.map(t => t.id), 0) + 1 : 1;
                const newTransaction = { ...transactionData, id: newId, amount: Number(transactionData.amount) };
                this.data.transactions.unshift(newTransaction);
                this.saveData();
                this.syncAllDisplays();
                return newTransaction;
            }

            updateTransaction(id, updates) {
                const index = this.data.transactions.findIndex(t => t.id === id);
                if (index !== -1) {
                    this.data.transactions[index] = { ...this.data.transactions[index], ...updates, amount: Number(updates.amount) };
                    this.saveData();
                    this.syncAllDisplays();
                    return true;
                }
                return false;
            }

            deleteTransaction(id) {
                const initialLength = this.data.transactions.length;
                this.data.transactions = this.data.transactions.filter(t => t.id !== id);
                if (this.data.transactions.length < initialLength) {
                    this.saveData();
                    this.syncAllDisplays();
                    return true;
                }
                return false;
            }

            getAllTransactions() {
                return [...this.data.transactions].sort((a, b) => new Date(b.date) - new Date(a.date));
            }

            getRecentTransactions(limit = 5) {
                return this.getAllTransactions().slice(0, limit);
            }

            calculateStats() {
                const currentDate = new Date();
                const currentMonth = currentDate.toISOString().slice(0, 7);
                const previousMonth = new Date(currentDate.getFullYear(), currentDate.getMonth() - 1, 1).toISOString().slice(0, 7);
                const currentMonthTransactions = this.data.transactions.filter(t => t.date.startsWith(currentMonth));
                const previousMonthTransactions = this.data.transactions.filter(t => t.date.startsWith(previousMonth));
                const currentIncome = currentMonthTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
                const currentExpenses = currentMonthTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
                const previousIncome = previousMonthTransactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
                const previousExpenses = previousMonthTransactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
                const totalIncome = this.data.transactions.filter(t => t.type === 'income').reduce((sum, t) => sum + t.amount, 0);
                const totalExpenses = this.data.transactions.filter(t => t.type === 'expense').reduce((sum, t) => sum + t.amount, 0);
                const incomeChange = this.calculatePercentageChange(currentIncome, previousIncome);
                const expenseChange = this.calculatePercentageChange(currentExpenses, previousExpenses);
                const currentSavings = currentIncome - currentExpenses;
                const previousSavings = previousIncome - previousExpenses;
                const savingsChange = this.calculatePercentageChange(currentSavings, previousSavings);
                const totalSavings = totalIncome - totalExpenses;
                const totalTransactions = this.data.transactions.length;
                const monthlyTransactions = currentMonthTransactions.length;
                const startingBalance = this.data.settings.startingBalance || 0;
                const bankBalance = startingBalance + totalIncome - totalExpenses;
                return {
                    totalIncome, totalExpenses, totalSavings,
                    currentIncome, currentExpenses, currentSavings,
                    incomeChange, expenseChange, savingsChange,
                    totalTransactions, monthlyTransactions, bankBalance,
                    currentMonth: currentDate.toLocaleDateString('en-US', { month: 'long', year: 'numeric' })
                };
            }

            calculatePercentageChange(current, previous) {
                if (previous === 0) {
                    return current > 0 ? 100 : 0;
                }
                return Math.round(((current - previous) / Math.abs(previous)) * 100);
            }

            syncAllDisplays() {
                this.filteredTransactions = this.getAllTransactions();
                this.loadRecentTransactions();
                this.loadAllTransactions(); 
                this.updateEnhancedDashboardStats();
            }

            updateEnhancedDashboardStats() {
                const stats = this.calculateStats();
                this.showLoadingAnimation();

                setTimeout(() => {
                    this.updateCardWithAnimation('totalIncome', `₹${stats.totalIncome.toLocaleString('en-IN')}`);
                    this.updateCardWithAnimation('totalExpenses', `₹${stats.totalExpenses.toLocaleString('en-IN')}`);
                    this.updateCardWithAnimation('savings', `₹${stats.totalSavings.toLocaleString('en-IN')}`);
                    this.updateCardWithAnimation('totalTransactionsCount', stats.totalTransactions.toString());
                    this.updateCardWithAnimation('hdfcBalance', `₹${stats.bankBalance.toLocaleString('en-IN')}`);
                    this.updateChangeIndicator('incomeChange', stats.incomeChange, 'income', stats.currentMonth);
                    this.updateChangeIndicator('expenseChange', stats.expenseChange, 'expense', stats.currentMonth);
                    this.updateChangeIndicator('savingsChange', stats.savingsChange, 'savings', stats.currentMonth);
                    const monthlyCountElement = document.getElementById('monthlyTransactionsCount');
                    if (monthlyCountElement) {
                        monthlyCountElement.textContent = stats.monthlyTransactions;
                    }
                    this.removeLoadingAnimation();
                }, 800);
            }

            showLoadingAnimation() {
                document.querySelectorAll('.card-value').forEach(el => el.classList.add('loading'));
            }

            removeLoadingAnimation() {
                document.querySelectorAll('.card-value').forEach(el => el.classList.remove('loading'));
            }

            updateCardWithAnimation(elementId, value) {
                const element = document.getElementById(elementId);
                if (element) {
                    element.style.animation = 'countUp 0.6s ease-out';
                    element.textContent = value;
                    setTimeout(() => { element.style.animation = ''; }, 600);
                }
            }

            updateChangeIndicator(elementId, changePercent, type, currentMonth) {
                const element = document.getElementById(elementId);
                if (!element) return;
                let className, icon, text;
                if (changePercent > 0) {
                    className = type === 'expense' ? 'negative' : 'positive';
                    icon = 'fas fa-arrow-up';
                    text = `+${changePercent}% vs last month`;
                } else if (changePercent < 0) {
                    className = type === 'expense' ? 'positive' : 'negative';
                    icon = 'fas fa-arrow-down';
                    text = `${changePercent}% vs last month`;
                } else {
                    className = 'neutral';
                    icon = 'fas fa-minus';
                    text = 'No change vs last month';
                }
                if (type === 'savings' && changePercent === 0) {
                    text = `${currentMonth} data`;
                }
                element.className = `card-change ${className}`;
                element.innerHTML = `<i class="${icon}"></i><span>${text}</span>`;
            }

            loadRecentTransactions() {
                const recentTransactionsList = document.getElementById('recentTransactionsList');
                const recentTransactions = this.getRecentTransactions(5);
                if (recentTransactions.length === 0) {
                    recentTransactionsList.innerHTML = `<div class="text-center py-4"><i class="fas fa-inbox fa-2x mb-2" style="color: rgba(255,255,255,0.3);"></i><p style="color: rgba(255,255,255,0.6); margin: 0;">No recent transactions</p><button class="btn btn-glass mt-2" onclick="showAddTransactionModal()"><i class="fas fa-plus"></i> Add First Transaction</button></div>`;
                    return;
                }
                const transactionsHTML = recentTransactions.map(transaction => {
                    const isIncome = transaction.type === 'income';
                    const amountClass = isIncome ? 'income' : 'expense';
                    const amountPrefix = isIncome ? '+' : '-';
                    const icon = this.getTransactionIcon(transaction.category);
                    const timeAgo = this.getTimeAgo(transaction.date);
                    return `<div class="transaction-item"><div class="transaction-icon ${transaction.type}"><i class="${icon}"></i></div><div class="transaction-details"><div class="transaction-title">${transaction.description}</div><div class="transaction-date">${timeAgo} • ${transaction.category}</div></div><div class="transaction-amount ${amountClass}">${amountPrefix}₹${transaction.amount.toLocaleString('en-IN')}</div></div>`;
                }).join('');
                recentTransactionsList.innerHTML = transactionsHTML;
            }

            loadAllTransactions() {
                const allTransactionsList = document.getElementById('allTransactionsList');
                const allTransactions = this.getAllTransactions();
                if (allTransactions.length === 0) {
                    allTransactionsList.innerHTML = `<tr><td colspan="6" class="text-center text-white-50">No transactions found. Add one to get started!</td></tr>`;
                    return;
                }
                const transactionsHTML = allTransactions.map(transaction => {
                    const isIncome = transaction.type === 'income';
                    const amountClass = isIncome ? 'text-success' : 'text-danger';
                    const amountPrefix = isIncome ? '+' : '-';
                    return `
                        <tr>
                            <td>${transaction.date}</td>
                            <td>${transaction.description}</td>
                            <td>${transaction.category}</td>
                            <td><span class="badge bg-secondary">${transaction.type}</span></td>
                            <td class="text-end ${amountClass}">${amountPrefix}₹${transaction.amount.toLocaleString('en-IN')}</td>
                            <td class="text-center">
                                <button class="btn btn-sm btn-info me-2" onclick="editTransaction(${transaction.id})"><i class="fas fa-edit"></i></button>
                                <button class="btn btn-sm btn-danger" onclick="deleteTransactionWithConfirm(${transaction.id})"><i class="fas fa-trash"></i></button>
                            </td>
                        </tr>
                    `;
                }).join('');
                allTransactionsList.innerHTML = transactionsHTML;
            }

            showAllTransactionsModal() {
                const allTransactionsModal = new bootstrap.Modal(document.getElementById('allTransactionsModal'));
                this.loadAllTransactions();
                allTransactionsModal.show();
            }

            filterTransactions() {
                // This page doesn't have filters, so this function is not needed here
            }

            clearFilters() {
                // This page doesn't have filters, so this function is not needed here
            }

            showAddTransactionModal() {
                document.getElementById('transactionModalTitle').textContent = 'Add New Transaction';
                const modal = new bootstrap.Modal(document.getElementById('addTransactionModal'));
                modal.show();
            }

            showQuickIncomeModal() {
                this.currentQuickTransactionType = 'income';
                document.getElementById('quickTransactionModalTitle').textContent = 'Quick Income Entry';
                document.getElementById('quickAmount').placeholder = 'Enter income amount';
                document.getElementById('quickDescription').placeholder = 'e.g., Salary, Freelance, etc.';
                const modal = new bootstrap.Modal(document.getElementById('quickTransactionModal'));
                modal.show();
            }

            showQuickExpenseModal() {
                this.currentQuickTransactionType = 'expense';
                document.getElementById('quickTransactionModalTitle').textContent = 'Quick Expense Entry';
                document.getElementById('quickAmount').placeholder = 'Enter expense amount';
                document.getElementById('quickDescription').placeholder = 'e.g., Food, Transport, etc.';
                const modal = new bootstrap.Modal(document.getElementById('quickTransactionModal'));
                modal.show();
            }

            saveTransaction() {
                const modalElement = document.getElementById('addTransactionModal');
                const editId = modalElement.getAttribute('data-edit-id');
                const isEditing = editId !== null;
                const type = document.getElementById('transactionType').value;
                const amount = parseFloat(document.getElementById('transactionAmount').value);
                const date = document.getElementById('transactionDate').value;
                const category = document.getElementById('transactionCategory').value || 'Other';
                const description = document.getElementById('transactionDescription').value.trim();
                const isRecurring = document.getElementById('isRecurring').checked;
                if (!type || !amount || !date || !description || amount <= 0) {
                    this.showErrorMessage('Please fill in all required fields correctly');
                    return;
                }
                const transactionData = { type, amount, date, category, description, isRecurring };
                if (isEditing) {
                    if (this.updateTransaction(parseInt(editId), transactionData)) {
                        this.showSuccessMessage(`Transaction updated successfully!`);
                    } else {
                        this.showErrorMessage('Failed to update transaction');
                        return;
                    }
                } else {
                    this.addTransaction(transactionData);
                    this.showSuccessMessage(`${type === 'income' ? 'Income' : 'Expense'} of ₹${amount.toLocaleString()} added successfully!`);
                }
                const modal = bootstrap.Modal.getInstance(modalElement);
                modal.hide();
            }

            saveQuickTransaction() {
                const amount = parseFloat(document.getElementById('quickAmount').value);
                const description = document.getElementById('quickDescription').value.trim();
                const date = document.getElementById('quickDate').value;
                if (!amount || !description || !date || amount <= 0) {
                    this.showErrorMessage('Please fill in all fields correctly');
                    return;
                }
                const transactionData = { type: this.currentQuickTransactionType, amount, date, category: 'Other', description, isRecurring: false };
                this.addTransaction(transactionData);
                const modal = bootstrap.Modal.getInstance(document.getElementById('quickTransactionModal'));
                modal.hide();
                this.showSuccessMessage(`Quick ${this.currentQuickTransactionType} of ₹${amount.toLocaleString()} added successfully!`);
            }

            editTransaction(id) {
                const transaction = this.data.transactions.find(t => t.id === id);
                if (!transaction) {
                    this.showErrorMessage('Transaction not found');
                    return;
                }
                document.getElementById('transactionType').value = transaction.type;
                document.getElementById('transactionAmount').value = transaction.amount;
                document.getElementById('transactionDate').value = transaction.date;
                document.getElementById('transactionDescription').value = transaction.description;
                document.getElementById('isRecurring').checked = transaction.isRecurring || false;
                this.updateCategoriesForType();
                setTimeout(() => {
                    document.getElementById('transactionCategory').value = transaction.category;
                }, 100);
                document.getElementById('transactionModalTitle').textContent = 'Edit Transaction';
                document.getElementById('addTransactionModal').setAttribute('data-edit-id', id);
                const modal = new bootstrap.Modal(document.getElementById('addTransactionModal'));
                modal.show();
            }

            deleteTransactionWithConfirm(id) {
                const transaction = this.data.transactions.find(t => t.id === id);
                if (!transaction) {
                    this.showErrorMessage('Transaction not found');
                    return;
                }
                this.showConfirmModal(`Are you sure you want to delete "${transaction.description}" (₹${transaction.amount.toLocaleString('en-IN')})?`, () => {
                    if (this.deleteTransaction(id)) {
                        this.showSuccessMessage('Transaction deleted successfully!');
                    } else {
                        this.showErrorMessage('Failed to delete transaction');
                    }
                });
            }

            resetTransactionForm() {
                document.getElementById('transactionForm').reset();
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('transactionDate').value = today;
                document.getElementById('transactionCategory').innerHTML = '<option value="">Select Category</option>';
                document.getElementById('transactionModalTitle').textContent = 'Add New Transaction';
                document.getElementById('addTransactionModal').removeAttribute('data-edit-id');
            }

            resetQuickForm() {
                document.getElementById('quickTransactionForm').reset();
                const today = new Date().toISOString().split('T')[0];
                document.getElementById('quickDate').value = today;
            }

            exportData() {
                const dataToExport = { ...this.data, exportDate: new Date().toISOString(), version: '1.0.0' };
                const jsonContent = JSON.stringify(dataToExport, null, 2);
                this.downloadFile(jsonContent, `fintrack_backup_${new Date().toISOString().split('T')[0]}.json`, 'application/json');
                this.showSuccessMessage('Data exported successfully!');
            }

            importData() {
                document.getElementById('importFileInput').click();
            }

            handleFileImport(event) {
                const file = event.target.files[0];
                if (!file) return;
                const reader = new FileReader();
                reader.onload = (e) => {
                    try {
                        const importedData = JSON.parse(e.target.result);
                        const validatedData = this.validateAndUpgradeData(importedData);
                        this.showConfirmModal('This will replace all your current data. Are you sure you want to continue?', () => {
                            this.data = validatedData;
                            this.saveData();
                            this.syncAllDisplays();
                            this.showSuccessMessage('Data imported successfully!');
                        });
                    } catch (error) {
                        this.showErrorMessage('Invalid file format. Please select a valid JSON backup file.');
                    }
                };
                reader.readAsText(file);
                event.target.value = '';
            }

            showResetModal() {
                 this.showConfirmModal('This will delete ALL your data and reset to default. This action cannot be undone. Are you sure?', () => {
                    this.resetAllData();
                });
            }

            resetAllData() {
                const userData = JSON.parse(localStorage.getItem('fintrack_user'));
                localStorage.removeItem(this.storageKey);
                this.data = this.getDefaultData(userData ? userData.startingBalance : 0);
                this.saveData();
                this.syncAllDisplays();
                this.showSuccessMessage('All data has been reset to default');
            }
            
            downloadFile(content, filename, mimeType) {
                const blob = new Blob([content], { type: mimeType });
                const url = window.URL.createObjectURL(blob);
                const a = document.createElement('a');
                a.href = url;
                a.download = filename;
                document.body.appendChild(a);
                a.click();
                document.body.removeChild(a);
                window.URL.revokeObjectURL(url);
            }

            getTransactionIcon(category) {
                const iconMap = {
                    'Salary': 'fas fa-briefcase', 'Freelance': 'fas fa-laptop-code', 'Rent': 'fas fa-home',
                    'Groceries': 'fas fa-shopping-cart', 'Food': 'fas fa-utensils', 'Transportation': 'fas fa-car', 
                    'Utilities': 'fas fa-bolt', 'Shopping': 'fas fa-shopping-bag', 'Investment': 'fas fa-chart-line',
                    'Healthcare': 'fas fa-first-aid', 'Education': 'fas fa-graduation-cap', 'Entertainment': 'fas fa-film',
                    'Other': 'fas fa-exchange-alt', 'Initial': 'fas fa-seedling'
                };
                return iconMap[category] || 'fas fa-exchange-alt';
            }
            
            getTimeAgo(dateString) {
                const transactionDate = new Date(dateString);
                const now = new Date();
                const diffInMs = now - transactionDate;
                const diffInHours = Math.floor(diffInMs / (1000 * 60 * 60));
                const diffInDays = Math.floor(diffInMs / (1000 * 60 * 60 * 24));
                if (diffInDays === 0) {
                    if (diffInHours === 0) return 'Just now';
                    else if (diffInHours === 1) return '1 hour ago';
                    else return `${diffInHours} hours ago`;
                } else if (diffInDays === 1) {
                    return 'Yesterday';
                } else if (diffInDays < 7) {
                    return `${diffInDays} days ago`;
                } else {
                    return transactionDate.toLocaleDateString('en-IN');
                }
            }

            updateDataStatus(message) {
                const statusElement = document.getElementById('dataStatus');
                if (statusElement) {
                    statusElement.textContent = message;
                }
            }

            showSuccessMessage(message) {
                this.createNotification(message, 'success');
            }

            showErrorMessage(message) {
                this.createNotification(message, 'error');
            }

            createNotification(message, type) {
                document.querySelectorAll('.notification').forEach(notification => notification.remove());
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                notification.innerHTML = `<div class="notification-content"><i class="fas fa-${this.getNotificationIcon(type)}"></i><span>${message}</span><button class="notification-close">&times;</button></div>`;
                notification.style.cssText = `position: fixed; top: 20px; right: 20px; background: ${this.getNotificationColor(type)}; color: white; padding: 15px 20px; border-radius: 12px; box-shadow: 0 8px 30px rgba(0,0,0,0.3); z-index: 10000; animation: slideInRight 0.3s ease-out; max-width: 400px; font-weight: 500; border: 1px solid rgba(255,255,255,0.1);`;
                document.body.appendChild(notification);
                setTimeout(() => { if (notification.parentNode) { notification.style.animation = 'slideOutRight 0.3s ease-out'; setTimeout(() => notification.remove(), 300); } }, 4000);
                notification.querySelector('.notification-close').addEventListener('click', () => { notification.style.animation = 'slideOutRight 0.3s ease-out'; setTimeout(() => notification.remove(), 300); });
            }

            getNotificationIcon(type) {
                switch(type) {
                    case 'success': return 'check-circle';
                    case 'error': return 'exclamation-triangle';
                    case 'warning': return 'exclamation-circle';
                    default: return 'info-circle';
                }
            }

            getNotificationColor(type) {
                switch(type) {
                    case 'success': return 'linear-gradient(135deg, #28a745, #20c997)';
                    case 'error': return 'linear-gradient(135deg, #dc3545, #c82333)';
                    case 'warning': return 'linear-gradient(135deg, #ffc107, #e0a800)';
                    default: return 'linear-gradient(135deg, #007bff, #0056b3)';
                }
            }

            refreshTransactions() {
                this.syncAllDisplays();
                this.showSuccessMessage('Transactions refreshed successfully!');
            }
        }

        const financeTracker = new PersistentFinanceTracker();

        window.showAddTransactionModal = () => financeTracker.showAddTransactionModal();
        window.showQuickIncomeModal = () => financeTracker.showQuickIncomeModal();
        window.showQuickExpenseModal = () => financeTracker.showQuickExpenseModal();
        window.saveTransaction = () => financeTracker.saveTransaction();
        window.saveQuickTransaction = () => financeTracker.saveQuickTransaction();
        window.editTransaction = (id) => financeTracker.editTransaction(id);
        window.deleteTransactionWithConfirm = (id) => financeTracker.deleteTransactionWithConfirm(id);
        window.exportData = () => financeTracker.exportData();
        window.importData = () => financeTracker.importData();
        window.showResetModal = () => financeTracker.showResetModal();
        window.handleFileImport = (event) => financeTracker.handleFileImport(event);
        window.showAllTransactionsModal = () => financeTracker.showAllTransactionsModal();

        document.addEventListener('DOMContentLoaded', function() {
            // Update the navigation links directly to use href
            document.querySelectorAll('.menu-item').forEach(item => {
                const href = item.getAttribute('href');
                if (href && !href.startsWith('#')) {
                    item.addEventListener('click', (e) => {
                        e.preventDefault();
                        window.location.href = href;
                    });
                }
            });
            // Handle active class for the current page
            const currentPath = window.location.pathname.split('/').pop();
            document.querySelectorAll('.menu-item').forEach(item => {
                item.classList.remove('active');
                if (item.getAttribute('href') === currentPath) {
                    item.classList.add('active');
                }
            });

            // The main content is always visible, so no need for switchSection
        });
    </script>

</body></html>